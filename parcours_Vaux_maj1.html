<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Carte trajet vÃ©lo Vaux Allier</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
<style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map { width: 100%; height: 100%; }
    .marker-number {
        background-color: #007bff;
        color: white;
        font-size: 12px;
        font-weight: bold;
        text-align: center;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        line-height: 24px;
        border: 2px solid white;
        box-shadow: 0 0 3px rgba(0,0,0,0.5);
    }
</style>
</head>
<body>
<div id="map"></div>
<script>
    // Initialisation de la carte (sans centrage fixe)
    var map = L.map('map');
    
    // Fond de carte
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: 'Â© OpenStreetMap',
        maxZoom: 18
    }).addTo(map);

    // Tableau des Ã©tapes [latitude, longitude, nom]
    var etapes = [
        [49.91053162783799, 5.614353026010077, "Jour 1 - DÃ©part - Cobreville"],
        [49.66239980509379, 5.048124203207995, "Jour 1 - Domaine de Douzi"]
        
    ];

    // Ajout des marqueurs avec numÃ©ros commenÃ§ant Ã  0
    etapes.forEach(function(e, i) {
        var icon = L.divIcon({
            className: 'marker-number',
            html: i, // commence Ã  0
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        L.marker([e[0], e[1]], {icon: icon})
            .addTo(map)
            .bindPopup(e[2])
            .bindTooltip(e[2].split(" - ")[e[2].split(" - ").length-1], {sticky: true});
    });

   // TracÃ© de la ligne bleue
var coords = etapes.map(function(e) { return [e[0], e[1]]; });
var polyline = L.polyline(coords, { color: "blue", weight: 3 }).addTo(map);
    
    // ðŸ”¹ Centrage automatique sur le trajet
    map.fitBounds(polyline.getBounds(), {
        padding: [30, 30]
    });
</script>
</body>
</html>
